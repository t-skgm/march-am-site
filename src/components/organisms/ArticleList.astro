---
import { getCollection } from 'astro:content'
import { cropEntries, onlyPublished } from '../../utils/collection'
import ListItem from '../molecules/ListItem.astro'

export type Props = {
  first?: number
  skip?: number
}
const { first, skip } = Astro.props

const blogEntries = await getCollection('blog', onlyPublished)

const entries = cropEntries({
  entries: blogEntries,
  first,
  skip
})
---

<ul class="grid grid-cols-1 gap-4 p-0">
  {
    entries.map((e) => (
      <ListItem title={e.data.title} dateString={e.data.postedAt} href={`/article/${e.slug}`} />
    ))
  }
</ul>

<style></style>
